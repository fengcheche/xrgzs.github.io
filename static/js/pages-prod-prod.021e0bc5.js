(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-prod-prod"],{"189e":function(t,e,i){"use strict";i.r(e);var a=i("a8da"),o=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=o.a},"236f":function(t,e,i){var a=i("5a9f");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("4f06").default;o("f068f5f2",a,!0,{sourceMap:!1,shadowMode:!1})},"27cb":function(t,e,i){"use strict";i.r(e);var a=i("2901"),o=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=o.a},2901:function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("a9e3");var a=i("0e9d"),o={data:function(){return{stsType:4}},components:{},props:{item:Object,type:Number,order:Boolean,canUse:Boolean,index:Number,showTimeType:Number},beforeMount:function(){},methods:{receiveCoupon:function(){var t=this,e=this.item.couponId;a.request({url:"/p/myCoupon/receive",method:"POST",data:e,callBack:function(){var e=t.item;e.canReceive=!1,t.setData({item:e})}})},checkCoupon:function(t){this.$emit("checkCoupon",{detail:{couponId:t.currentTarget.dataset.couponid}})},useCoupon:function(){var t="/pages/prod-classify/prod-classify?sts="+this.stsType,e=this.item.couponId;e&&(t+="&tagid="+e+"&title=优惠券活动商品"),uni.navigateTo({url:t})}}};e.default=o},"300d":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{class:"coupon-item "+(t.canUse?"":"gray")},[i("v-uni-view",{staticClass:"left"},[1==t.item.couponType?i("v-uni-view",{staticClass:"num"},[t._v("￥"),i("v-uni-text",{staticClass:"coupon-price"},[t._v(t._s(t.item.reduceAmount))])],1):t._e(),2==t.item.couponType?i("v-uni-view",{staticClass:"num"},[i("v-uni-text",{staticClass:"coupon-price"},[t._v(t._s(t.item.couponDiscount))]),t._v("折")],1):t._e(),i("v-uni-view",{staticClass:"condition"},[t._v("满"+t._s(t.item.cashCondition)+"元可用")])],1),i("v-uni-view",{staticClass:"right"},[i("v-uni-view",{staticClass:"c-des"},[i("v-uni-text",{staticClass:"c-type"},[t._v(t._s(0==t.item.suitableProdType?"通用":"商品"))]),t._v(t._s(0==t.item.suitableProdType?"全场通用":"指定商品可用"))],1),i("v-uni-view",{staticClass:"c-date"},[1==t.showTimeType&&2==t.item.couponType?i("v-uni-text",{staticClass:"c-data-info"},[t._v("领券"+t._s(t.item.validDays)+"天后失效")]):i("v-uni-text",{staticClass:"c-data-info"},[t._v(t._s(t.item.startTime)+"~"+t._s(t.item.endTime))]),t.item.canReceive&&!t.order?i("v-uni-text",{staticClass:"c-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.receiveCoupon.apply(void 0,arguments)}}},[t._v("立即领取")]):t._e(),t.item.canReceive||t.order?t._e():i("v-uni-text",{staticClass:"c-btn get-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.useCoupon.apply(void 0,arguments)}}},[t._v("立即使用")])],1),t.order&&t.canUse?i("v-uni-view",{staticClass:"sel-btn"},[i("v-uni-checkbox",{attrs:{color:"#eb2444","data-couponid":t.item.couponId,checked:t.item.choose},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.checkCoupon.apply(void 0,arguments)}}})],1):t._e()],1),1==t.type?i("v-uni-image",{staticClass:"tag-img",attrs:{src:"/static/images/icon/coupon-used.png"}}):t._e(),2==t.type?i("v-uni-image",{staticClass:"tag-img",attrs:{src:"/static/images/icon/coupon-ot.png"}}):t._e()],1)},o=[]},"550f":function(t,e,i){"use strict";i.r(e);var a=i("300d"),o=i("27cb");for(var n in o)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(n);i("d5b2");var c=i("f0c5"),r=Object(c["a"])(o["default"],a["b"],a["c"],!1,null,"5ada0743",null,!1,a["a"],void 0);e["default"]=r.exports},"5a9f":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'uni-page-body[data-v-04417fcc]{background:#f4f4f4;height:100%}body.?%PAGE?%[data-v-04417fcc]{background:#f4f4f4}.container[data-v-04417fcc]{height:auto;padding-bottom:%?150?%}uni-swiper[data-v-04417fcc]{height:%?750?%;width:100%;border-bottom:%?2?% solid #f8f8f8}uni-swiper uni-image[data-v-04417fcc]{height:%?750?%;width:100%}\r\n\r\n/** 商品信息 */.prod-info[data-v-04417fcc]{padding:%?30?% %?30?% 0 %?30?%;position:relative;background:#fff}.tit-wrap[data-v-04417fcc]{position:relative;line-height:%?40?%;padding-right:%?104?%}.prod-tit[data-v-04417fcc]{font-size:%?32?%;color:#333;padding-right:%?20?%}.tit-wrap .col[data-v-04417fcc]{position:absolute;top:0;right:0;width:%?80?%;color:#666;font-size:%?20?%;padding-left:%?20?%;text-align:center}.tit-wrap .col uni-image[data-v-04417fcc]{display:block;margin:auto;width:%?40?%;height:%?40?%}.tit-wrap .col[data-v-04417fcc]::after{content:"";display:block;width:1px;height:auto;background:#f1f1f1;position:absolute;top:0;bottom:5px;left:0}.sales-p[data-v-04417fcc]{background:#fff;line-height:%?40?%;color:#999;font-size:%?24?%;margin-top:%?6?%;margin-right:%?104?%}.prod-price[data-v-04417fcc]{font-size:%?30?%;height:%?100?%;line-height:%?100?%}.price[data-v-04417fcc]{color:#eb2444;font-size:%?24?%;font-weight:600;margin-right:%?30?%}.price-num[data-v-04417fcc]{font-size:%?46?%;font-weight:400}.ori-price[data-v-04417fcc]{font-size:%?25?%;color:#999;text-decoration:line-through}.sales[data-v-04417fcc]{color:#999}.share-icon[data-v-04417fcc]{position:absolute;right:%?50?%;top:%?50?%;background:none;line-height:%?40?%;border:none;outline:none;box-shadow:0;padding:0}.share-icon[data-v-04417fcc]::after{border:none}.share-icon uni-image[data-v-04417fcc]{width:%?60?%;height:%?60?%}.share-text[data-v-04417fcc]{font-size:%?26?%;color:#999;line-height:%?30?%}\r\n\r\n/** end 商品信息 */\r\n\r\n/**优惠券*/.coupon[data-v-04417fcc]{padding:%?28?% %?100?% %?14?% %?100?%;background:#fff;position:relative;margin-top:%?20?%}.coupon .coupon-tit[data-v-04417fcc]{position:absolute;display:inline-block;width:%?60?%;left:%?20?%;font-size:%?22?%;top:%?28?%;line-height:%?36?%;color:#999}.coupon-con .item[data-v-04417fcc]{position:relative;display:inline-block;vertical-align:top;padding:0 %?18?%;background:#eb2444;height:%?36?%;line-height:%?36?%;color:#fff;font-size:%?22?%;margin:0 %?16?% %?16?% 0;font-family:arial}.coupon-con .item[data-v-04417fcc]:before, .coupon-con .item[data-v-04417fcc]:after{content:"";display:block;width:0;height:0;position:absolute;top:0;border:%?18?% solid transparent}.coupon-con .item[data-v-04417fcc]:before{left:0;border-left:%?4?% solid #fff}.coupon-con .item[data-v-04417fcc]:after{right:0;border-right:%?4?% solid #fff}.coupon .num[data-v-04417fcc]{position:absolute;right:%?80?%;width:%?80?%;top:%?28?%;text-align:right;font-size:%?24?%;color:#999;line-height:%?36?%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-family:arial}.more[data-v-04417fcc]{position:absolute;right:%?20?%;width:%?60?%;top:%?10?%;text-align:right;font-size:%?40?%;color:#999;letter-spacing:1px}\r\n\r\n/* 已选 */.sku[data-v-04417fcc]{padding:%?20?%;background:#fff;margin-top:%?20?%;position:relative;line-height:%?48?%}.sku-tit[data-v-04417fcc]{position:absolute;display:inline-block;width:%?60?%;left:%?20?%;font-size:%?22?%;top:%?20?%;color:#999}.sku-con[data-v-04417fcc]{margin:0 %?80?%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;font-size:%?28?%;font-weight:700}\r\n\r\n/** 评价*/.cmt-wrap[data-v-04417fcc]{background:#fff;margin-top:%?20?%;position:relative;line-height:%?48?%}.cmt-tit[data-v-04417fcc]{font-size:%?32?%;position:relative;border-bottom:1px solid #ddd;padding:%?20?%}.cmt-t[data-v-04417fcc]{width:%?300?%}.cmt-good[data-v-04417fcc]{color:#eb2444;font-size:%?24?%}.cmt-count[data-v-04417fcc]{position:absolute;right:%?20?%;top:%?20?%;font-size:%?24?%;color:#666}.cmt-more[data-v-04417fcc]{width:%?20?%;height:%?20?%;border-top:%?2?% solid #999;border-right:%?2?% solid #999;-webkit-transform:rotate(45deg);transform:rotate(45deg);margin-left:%?10?%;display:inline-block}.cmt-cont[data-v-04417fcc]{padding:0 %?20?%}.cmt-tag[data-v-04417fcc]{position:relative;padding:14px 3px 0 0;margin:0}.cmt-tag uni-text[data-v-04417fcc]{margin:0 10px 10px 0;background:#fdf0f0;display:inline-block;padding:0 10px;height:25px;border-radius:3px;line-height:25px;font-size:12px;font-family:-apple-system,Helvetica,sans-serif;color:#666}.cmt-tag uni-text.selected[data-v-04417fcc]{color:#fff;background:#e93b3d}.cmt-item[data-v-04417fcc]{position:relative;padding:10px 0}.cmt-item[data-v-04417fcc]::after{content:"";height:0;display:block;border-bottom:1px solid #ddd;position:absolute;left:0;right:0;bottom:0;right:-10px;border-bottom-color:#e5e5e5}.cmt-items .empty[data-v-04417fcc]{display:block;font-size:%?24?%;text-align:center;color:#aaa;margin-top:5vh}.cmt-user[data-v-04417fcc]{line-height:25px;margin-bottom:8px;font-size:12px}.cmt-user-info[data-v-04417fcc]{display:flex;align-items:center;width:%?400?%}.cmt-user .user-img[data-v-04417fcc]{width:25px;height:25px;border-radius:50%;vertical-align:middle}.cmt-user .nickname[data-v-04417fcc]{margin-left:10px;display:inline-block;color:#333;max-width:8.2em;height:25px;line-height:27px}.cmt-user .stars[data-v-04417fcc]{display:flex;margin-left:3px}.cmt-user .stars uni-image[data-v-04417fcc]{width:%?35?%;height:%?35?%}.cmt-user .date[data-v-04417fcc]{float:right;color:#999;margin-left:-60px}.cmt-cnt[data-v-04417fcc]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;position:relative;line-height:1.5;font-size:14px;margin:5px 0;word-break:break-all;max-height:126px}.cmt-attr[data-v-04417fcc]{height:85px;width:100%;white-space:nowrap}.cmt-attr .img-wrap[data-v-04417fcc]{width:85px;height:85px;display:inline-block}.cmt-attr uni-image[data-v-04417fcc]{display:inline-block;width:80px;height:80px;margin-right:5px;margin-bottom:5px;border-radius:2px;background:#f3f3f3}.cmt-more-v[data-v-04417fcc]{text-align:center;background-color:#fff;font-size:12px}.cmt-more-v uni-text[data-v-04417fcc]{height:25px;line-height:25px;font-size:12px;text-align:center;color:#333;padding:0 10px;margin:10px 0;border:1px solid #ccc;border-radius:40px;display:inline-block}\r\n\r\n/** 评价弹窗 */.cmt-popup[data-v-04417fcc]{position:fixed;top:0;bottom:0;left:0;right:0;z-index:998;background-color:#fff;padding-bottom:%?98?%}.cmt-popup .cmt-cont[data-v-04417fcc]{height:calc(100% - %?80?%);overflow:auto}.cmt-popup .cmt-cnt[data-v-04417fcc]{-webkit-line-clamp:20;max-height:500px}.cmt-reply[data-v-04417fcc]{font-size:14px;border-top:1px dashed #ddd;padding:5px 0}.cmt-reply .reply-tit[data-v-04417fcc]{color:#eb2444}.cmt-popup .load-more[data-v-04417fcc]{font-size:14px;padding:20px;text-align:center;margin-bottom:10px}.cmt-popup .load-more uni-text[data-v-04417fcc]{border:1px solid #ddd;padding:5px 10px;border-radius:10px;color:#666}\r\n\r\n/** 商品详情 */.prod-detail[data-v-04417fcc]{background:#fff;margin-top:%?20?%;position:relative;line-height:%?48?%}.det-tit[data-v-04417fcc]{width:%?300?%}.detail-tit[data-v-04417fcc]{font-size:%?32?%;position:relative;border-bottom:1px solid #ddd;padding:%?20?%}.prod-detail uni-image[data-v-04417fcc]{width:%?750?%!important;display:block}uni-rich-text uni-image[data-v-04417fcc]{width:100%!important}img[data-v-04417fcc]{width:100%!important;display:block}\r\n\r\n/** end 商品详情 */\r\n\r\n/** 底部按钮 */.cart-footer[data-v-04417fcc]{position:fixed;bottom:0;left:0;width:100%;display:flex;flex-direction:row nowrap;height:%?98?%;z-index:999;box-shadow:0 -1px 3px rgba(0,0,0,.05)}.cart-footer .btn[data-v-04417fcc]{position:relative;display:flex;flex-grow:1;justify-content:center;align-items:center;width:0;background-color:#fff;font-size:%?28?%;flex-flow:column}.cart-footer .btn.icon[data-v-04417fcc]{flex-grow:0;flex-shrink:0;width:%?125?%;font-size:%?20?%;color:#666}.cart-footer .btn.icon uni-image[data-v-04417fcc]{width:%?50?%;height:%?50?%}.cart-footer .btn.cart[data-v-04417fcc]{background:#584e61;color:#fff}.cart-footer .btn.buy[data-v-04417fcc]{background:#eb2444;color:#fff}.cart-footer .btn .badge[data-v-04417fcc]{position:absolute;top:%?20?%;left:%?62?%;display:inline-block;width:%?28?%;height:%?28?%;border-radius:%?14?%;background-color:#eb2444;text-align:center;line-height:%?28?%;font-size:%?18?%;color:#fff}.cart-footer .btn .badge-1[data-v-04417fcc]{width:%?36?%}.cart-footer .btn .badge-2[data-v-04417fcc]{width:%?48?%;left:%?52?%}\r\n\r\n/** end  底部按钮 */\r\n\r\n/** 优惠券弹窗 **/.popup-hide[data-v-04417fcc]{position:fixed;top:0;bottom:0;left:0;right:0;z-index:999;background-color:rgba(0,0,0,.3)}.popup-box[data-v-04417fcc]{position:absolute;bottom:0;width:100%;min-height:375px;max-height:475px;overflow:hidden;background-color:#fff}.popup-tit[data-v-04417fcc]{position:relative;height:46px;line-height:46px;padding-left:10px;font-size:16px;color:#333;background-color:#f7f7f7}.close[data-v-04417fcc]{color:#aaa;border-radius:12px;line-height:20px;text-align:center;height:20px;width:20px;font-size:18px;padding:1px;top:10px;right:10px;position:absolute}.close[data-v-04417fcc]::before{content:"\\2716"}.popup-cnt[data-v-04417fcc]{max-height:429px;overflow:auto;padding:0 10px}\r\n\r\n/** 规格弹窗**/.pup-sku[data-v-04417fcc]{position:fixed;top:0;bottom:0;left:0;right:0;z-index:999;background-color:rgba(0,0,0,.3)}.pup-sku-main[data-v-04417fcc]{position:absolute;bottom:0;width:100%;min-height:375px;max-height:475px;background-color:#fff}.pup-sku-header[data-v-04417fcc]{position:relative;line-height:46px;padding-left:10px;font-size:16px;color:#333;height:70px;padding:0 0 10px 110px;background-color:#fff}.pup-sku-img[data-v-04417fcc]{position:absolute;left:10px;top:-20px;border-radius:2px;width:90px;height:90px;border:0 none;vertical-align:top}.pup-sku-price[data-v-04417fcc]{display:inline-block;height:40px;line-height:40px;color:#e4393c;font-size:10px}.pup-sku-price-int[data-v-04417fcc]{font-size:16px}.pup-sku-prop[data-v-04417fcc]{word-break:break-all;font-size:12px;color:#333;line-height:1.4em;padding-right:10px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.pup-sku-prop uni-text[data-v-04417fcc]{color:#999;margin-right:5px}.pup-sku-body[data-v-04417fcc]{box-sizing:border-box;max-height:379px;padding-bottom:100px;overflow:auto}.pup-sku-area .sku-kind[data-v-04417fcc]{font-size:12px;color:#999;margin:0 10px;height:40px;line-height:40px}.pup-sku-area .sku-choose[data-v-04417fcc]{overflow:hidden;margin-bottom:3px}.sku-choose-item[data-v-04417fcc]{display:inline-block;padding:0 10px;min-width:20px;max-width:270px;overflow:hidden;height:30px;line-height:30px;text-align:center;margin-left:10px;margin-bottom:10px;border-radius:4px;color:#333;background-color:#f7f7f7;font-size:14px}.sku-choose-item.active[data-v-04417fcc]{background-color:#eb2444;color:#fff}.sku-choose-item.gray[data-v-04417fcc]{background-color:#f9f9f9;color:#ddd}.pup-sku-count[data-v-04417fcc]{padding:0 10px 13px;font-size:12px}.pup-sku-count .count-name[data-v-04417fcc]{color:#999;height:31px;line-height:31px;width:%?100?%}.pup-sku-count .num-wrap[data-v-04417fcc]{position:relative;z-index:0;width:110px;float:right;vertical-align:middle;display:flex}.num-wrap .minus[data-v-04417fcc], .num-wrap .plus[data-v-04417fcc]{position:relative;max-width:30px;min-width:30px;height:30px;line-height:30px;background:#f7f7f7;text-align:center}.num-wrap .minus[data-v-04417fcc]{border-top-left-radius:3px;border-bottom-left-radius:3px}.num-wrap .plus[data-v-04417fcc]{border-top-right-radius:3px;border-bottom-right-radius:3px}.num-wrap .row[data-v-04417fcc]{border-radius:20px;position:absolute;top:50%;left:50%;margin-left:-7px;margin-top:-1px;width:14px;height:2px;background-color:#ccc}.num-wrap .col[data-v-04417fcc]{border-radius:20px;position:absolute;top:50%;left:50%;margin-left:-1px;margin-top:-7px;width:2px;height:14px;background-color:#999}.pup-sku-count .text-wrap[data-v-04417fcc]{position:relative;width:45px;z-index:0;margin:0 1px}.pup-sku-count .text-wrap uni-input[data-v-04417fcc]{height:30px;width:100%;color:#333;background:#fff;font-size:12px;text-align:center;border:none;background:#f7f7f7}.pup-sku-footer[data-v-04417fcc]{position:fixed;bottom:0;left:0;width:100%;display:flex;flex-direction:row nowrap;height:%?98?%;z-index:999;box-shadow:0 -1px 3px rgba(0,0,0,.05)}.pup-sku-footer .btn[data-v-04417fcc]{position:relative;display:flex;flex-grow:1;justify-content:center;align-items:center;width:0;background-color:#fff;font-size:%?28?%;flex-flow:column}.pup-sku-footer .btn.cart[data-v-04417fcc]{background:#584e61;color:#fff}.pup-sku-footer .btn.buy[data-v-04417fcc]{background:#eb2444;color:#fff}',""]),t.exports=e},"712a":function(t,e,i){"use strict";i.r(e);var a=i("fe9e"),o=i("189e");for(var n in o)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(n);i("b6b1");var c=i("f0c5"),r=i("7b48"),s=Object(c["a"])(o["default"],a["b"],a["c"],!1,null,"04417fcc",null,!1,a["a"],void 0);"function"===typeof r["a"]&&Object(r["a"])(s),e["default"]=s.exports},"7b48":function(t,e,i){"use strict";e["a"]=function(t){(t.options.wxs||(t.options.wxs={}))["wxs"]=function(t){return t.exports={toPrice:function(t){return t||(t=0),t.toFixed(2)},parsePrice:function(t){return t||(t=0),t.toFixed(2).split(".")},array_contain:function(t,e){for(var i=0;i<t.length;i++)if(t[i]==e)return!0;return!1},props_contain:function(t,e,i,a,o){var n="";e[i]=a;for(var c=0;c<o.length;c++)n+=o[c]+":"+e[o[c]]+";";n=n.substring(0,n.length-1);for(var r=!1,s=0;s<t.length;s++)if(n==t[s]){r=!0;break}return r},parseDiscount:function(t){return 0==t?"满额减":1==t?"满件减":2==t?"满额折":3==t?"满件折":""},parseDiscountMsg:function(t,e,i){return 0==t?"购满"+e+"元减"+i+"元":1==t?"购满"+e+"件减"+i+"元":2==t?"购满"+e+"元打"+i+"折":3==t?"购满"+e+"件打"+i+"折":""}},t.exports}({exports:{}})}},9999:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".coupon-item[data-v-5ada0743]{margin:15px 0;position:relative;box-shadow:1px 1px 3px rgba(0,0,0,.15);height:95px;background:#fff}.coupon-item .left[data-v-5ada0743]{float:left;color:#fff;text-align:center;border-left:1px dashed #fff;padding:20px 0;background:-webkit-gradient(linear,left top,right top,from(#f45c43),to(#eb2444));background:-o-linear-gradient(left,#f45c43,#eb2444);background:linear-gradient(left,#f45c43,#eb2444);background:-webkit-linear-gradient(left,#f45c43,#eb2444);width:%?260?%;height:55px}.coupon-item .left .num[data-v-5ada0743]{font-weight:600;font-size:%?36?%;height:%?70?%;line-height:%?70?%;font-family:arial}.coupon-item .left .num .coupon-price[data-v-5ada0743]{font-size:%?72?%;line-height:%?72?%;display:inline-block;font-family:arial}.coupon-item .left .condition[data-v-5ada0743]{font-size:%?28?%;line-height:%?28?%;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding:0 2px;font-family:arial}.coupon-item .right[data-v-5ada0743]{margin-left:%?280?%;padding:5px;position:relative}.coupon-item .right .c-des[data-v-5ada0743]{height:30px;font-size:%?26?%;line-height:30px;overflow:hidden;font-weight:600}.coupon-item .right .c-des .c-type[data-v-5ada0743]{font-size:%?24?%;background:#fdf0f0;color:#eb2444;border-radius:8px;padding:3px 10px}.coupon-item .right .c-date[data-v-5ada0743]{font-size:%?24?%;margin-top:25px}.coupon-item .right .c-date .c-data-info[data-v-5ada0743]{font-family:arial}.coupon-item .right .c-date .c-btn[data-v-5ada0743]{position:absolute;bottom:0;right:10px;color:#fff;font-size:%?24?%;font-family:arial;border-radius:14px;padding:3px 7px;\r\n    /* background: -webkit-gradient(linear,left top,right top,from(#6c96da),to(#6b83d7));\r\n    background: -o-linear-gradient(left,#6c96da,#6b83d7);\r\n    background: linear-gradient(left,#6c96da,#6b83d7);\r\n    background: -webkit-linear-gradient(left,#6c96da,#6b83d7); */background:#eb2444;border:1px solid #eb2444}.coupon-item .right .c-date .c-btn.get-btn[data-v-5ada0743]{background:#fff;border:1px solid #eb2444;color:#eb2444}.coupon-item.gray .left[data-v-5ada0743]{background:#bbb}.coupon-item.gray .right .c-des .c-type[data-v-5ada0743]{background:#bbb;color:#fff}.coupon-item.gray .right .c-date .c-btn[data-v-5ada0743]{display:none}.coupon-item .tag-img[data-v-5ada0743]{position:absolute;top:0;right:0;width:%?120?%;height:%?120?%}.coupon-item .sel-btn[data-v-5ada0743]{position:absolute;right:10px;top:35px}",""]),t.exports=e},a8da:function(t,e,i){"use strict";i("7a82");var a=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(i("ade3"));i("d3b7"),i("159b"),i("99af"),i("fb6a"),i("14d9"),i("e9c4");var n,c=a(i("550f")),r=getApp(),s=i("0e9d"),d=(i("a311"),i("c9d7")),p=(n={data:function(){return{shopId:1,indicatorDots:!0,indicatorColor:"#f2f2f2",indicatorActiveColor:"#eb2444",autoplay:!0,interval:3e3,duration:1e3,prodNum:1,totalCartNum:0,pic:"",imgs:"",prodName:"",price:0,content:"",prodId:0,brief:"",skuId:0,popupShow:!1,loadCouponIds:!1,skuShow:!1,commentShow:!1,couponList:[],skuList:[],skuGroup:{},defaultSku:void 0,selectedProp:[],selectedPropObj:{},propKeys:[],allProperties:[],prodCommData:{},prodCommPage:{current:0,pages:0,records:[]},littleCommPage:[],evaluate:-1,isCollection:!1}},components:{coupon:c.default},props:{},onLoad:function(t){this.setData({prodId:t.prodid}),this.getProdInfo(),this.getProdCommData(),this.getLittleProdComm(),this.getCollection()},onReady:function(){},onShow:function(){this.setData({totalCartNum:r.globalData.totalCartCount})},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){}},(0,o.default)(n,"onShareAppMessage",(function(t){return{title:this.prodName,path:"/pages/prod/prod?prodid="+this.prodid}})),(0,o.default)(n,"methods",{getCollection:function(){var t=this;uni.showLoading();var e={url:"/p/user/collection/isCollection",method:"GET",data:{prodId:this.prodId},callBack:function(e){t.setData({isCollection:e}),uni.hideLoading()}};s.request(e)},addOrCannelCollection:function(){var t=this;uni.showLoading();var e={url:"/p/user/collection/addOrCancel",method:"POST",data:this.prodId,callBack:function(e){t.setData({isCollection:!t.isCollection}),uni.hideLoading()}};s.request(e)},getProdInfo:function(){var t=this;uni.showLoading();var e={url:"/prod/prodInfo",method:"GET",data:{prodId:this.prodId},callBack:function(e){if(uni.hideLoading(),e){var i=e.imgs,a=i.split(","),o=d.formatHtml(e.content);t.setData({imgs:a,content:o,price:e.price,prodName:e.prodName,prodId:e.prodId,brief:e.brief,skuList:e.skuList,pic:e.pic}),t.groupSkuProp(),uni.hideLoading()}else setTimeout((function(){uni.navigateBack()}),1e3)}};s.request(e)},getProdCommData:function(){var t=this;s.request({url:"/prodComm/prodCommData",method:"GET",data:{prodId:this.prodId},callBack:function(e){t.setData({prodCommData:e}),console.log("评论prodCommData:",t.prodCommData)}})},getLittleProdComm:function(){this.prodCommPage.records.length||this.getProdCommPage()},getMoreCommPage:function(t){this.getProdCommPage()},getProdCommPage:function(t){var e=this;if(t){if(t.currentTarget.dataset.evaluate===this.evaluate)return;this.setData({prodCommPage:{current:0,pages:0,records:[]},evaluate:t.currentTarget.dataset.evaluate})}s.request({url:"/prodComm/prodCommPageByProd",method:"GET",data:{prodId:this.prodId,size:10,current:this.prodCommPage.current+1,evaluate:this.evaluate},callBack:function(t){t.records.forEach((function(t){t.pics&&(t.pics=t.pics.split(","))}));var i=e.prodCommPage.records;i=i.concat(t.records),e.setData({prodCommPage:{current:t.current,pages:t.pages,records:i}}),e.littleCommPage.length||e.setData({littleCommPage:i.slice(0,2)})}})},getCouponList:function(){var t=this;s.request({url:"/coupon/listByProdId",method:"GET",data:{prodId:this.prodId,shopId:this.shopId},callBack:function(e){t.setData({couponList:e})}})},groupSkuProp:function(){var t=this.skuList;if(1!=t.length||""!=t[0].properties){for(var e={},i=[],a=[],o=0;o<t.length;o++){var n=this.defaultSku,c=!1;n||t[o].price!=this.price||(n=t[o],c=!0,this.setData({defaultSku:n}));var r=t[o].properties;i.push(r);for(var s=r.split(";"),d=this.selectedPropObj,p=0;p<s.length;p++){var l=s[p].split(":"),u=e[l[0]];c&&(a.push(l[0]),d[l[0]]=l[1]),void 0==u?(u=[],u.push(l[1])):this.array_contain(u,l[1])||u.push(l[1]),e[l[0]]=u}this.setData({selectedPropObj:d,propKeys:a})}this.parseSelectedObjToVals(),this.setData({skuGroup:e,allProperties:i})}else this.setData({defaultSku:t[0]})},parseSelectedObjToVals:function(){var t=this.selectedPropObj,e="",i=[];for(var a in t)i.push(t[a]),e+=a+":"+t[a]+";";e=e.substring(0,e.length-1),this.setData({selectedProp:i});for(var o=0;o<this.skuList.length;o++)if(this.skuList[o].properties==e){this.setData({defaultSku:this.skuList[o]});break}},toChooseItem:function(t){var e=t.currentTarget.dataset.ok;if(e){var i=t.currentTarget.dataset.val,a=t.currentTarget.dataset.key,o=this.selectedPropObj;o[a]=i,this.setData({selectedPropObj:o}),this.parseSelectedObjToVals()}},array_contain:function(t,e){for(var i=0;i<t.length;i++)if(t[i]==e)return!0;return!1},toHomePage:function(){uni.switchTab({url:"/pages/index/index"})},toCartPage:function(){uni.switchTab({url:"/pages/basket/basket"})},addToCart:function(t){var e=this;uni.showLoading({mask:!0});var i={url:"/p/shopCart/changeItem",method:"POST",data:{basketId:0,count:this.prodNum,prodId:this.prodId,shopId:this.shopId,skuId:this.defaultSku.skuId},callBack:function(t){e.setData({totalCartNum:e.totalCartNum+e.prodNum}),uni.hideLoading(),uni.showToast({title:"加入购物车成功",icon:"none"})}};s.request(i)},buyNow:function(){uni.setStorageSync("orderItem",JSON.stringify({prodId:this.prodId,skuId:this.defaultSku.skuId,prodCount:this.prodNum,shopId:this.shopId})),uni.navigateTo({url:"/pages/submit-order/submit-order?orderEntry=1"})},onCountMinus:function(){var t=this.prodNum;t>1&&this.setData({prodNum:t-1})},onCountPlus:function(){var t=this.prodNum;t<1e3&&this.setData({prodNum:t+1})},showPopup:function(){var t=this;this.loadCouponIds?this.setData({popupShow:!0}):s.request({url:"/p/myCoupon/listCouponIds",method:"GET",data:{},callBack:function(e){var i=t.couponList;console.log(i),i.forEach((function(t){if(e&&e.length){var i=0;e.forEach((function(e){e==t.couponId&&i++})),i<t.limitNum?t.canReceive=!0:t.canReceive=!1}else t.canReceive=!0})),t.setData({couponList:i,popupShow:!0,loadCouponIds:!0})}})},showSku:function(){this.setData({skuShow:!0})},showComment:function(){this.setData({commentShow:!0})},closePopup:function(){this.setData({popupShow:!1,skuShow:!1,commentShow:!1})}}),n);e.default=p},b6b1:function(t,e,i){"use strict";var a=i("236f"),o=i.n(a);o.a},d5b2:function(t,e,i){"use strict";var a=i("de68"),o=i.n(a);o.a},de68:function(t,e,i){var a=i("9999");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("4f06").default;o("6edfad53",a,!0,{sourceMap:!1,shadowMode:!1})},fe9e:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"container"},[i("v-uni-swiper",{attrs:{"indicator-dots":t.indicatorDots,autoplay:t.autoplay,"indicator-color":t.indicatorColor,interval:t.interval,duration:t.duration,"indicator-active-color":t.indicatorActiveColor}},[t._l(t.imgs,(function(t,e){return[i("v-uni-swiper-item",[i("v-uni-image",{attrs:{src:t}})],1)]}))],2),i("v-uni-view",{staticClass:"prod-info"},[i("v-uni-view",{staticClass:"tit-wrap"},[i("v-uni-view",{staticClass:"prod-tit"},[t._v(t._s(t.prodName))]),i("v-uni-view",{staticClass:"col",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.addOrCannelCollection.apply(void 0,arguments)}}},[t.isCollection?t._e():i("v-uni-image",{attrs:{src:"/static/images/icon/prod-col.png"}}),t.isCollection?i("v-uni-image",{attrs:{src:"/static/images/icon/prod-col-red.png"}}):t._e(),t._v("收藏")],1)],1),i("v-uni-view",{staticClass:"sales-p"},[t._v(t._s(t.brief))]),i("v-uni-view",{staticClass:"prod-price"},[t.defaultSku&&t.defaultSku.price?i("v-uni-text",{staticClass:"price"},[t._v("￥"),i("v-uni-text",{staticClass:"price-num"},[t._v(t._s(t.wxs.parsePrice(t.defaultSku.price)[0]))]),t._v("."+t._s(t.wxs.parsePrice(t.defaultSku.price)[1]))],1):t._e(),t.defaultSku&&t.defaultSku.oriPrice?i("v-uni-text",{staticClass:"ori-price"},[t._v("￥"+t._s(t.wxs.parsePrice(t.defaultSku.oriPrice)[0])+"."+t._s(t.wxs.parsePrice(t.defaultSku.oriPrice)[1]))]):t._e(),i("v-uni-text",{staticClass:"sales"})],1)],1),i("v-uni-view",{staticClass:"sku",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showSku.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"sku-tit"},[t._v("已选")]),i("v-uni-view",{staticClass:"sku-con"},[t._v(t._s(t.selectedProp.length>0?t.selectedProp+"，":"")+t._s(t.prodNum)+"件")]),i("v-uni-view",{staticClass:"more"},[t._v("...")])],1),i("v-uni-view",{staticClass:"cmt-wrap"},[i("v-uni-view",{staticClass:"cmt-tit",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showComment.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"cmt-t"},[t._v("评价"),i("v-uni-text",{staticClass:"cmt-good"},[t._v("好评"+t._s(t.prodCommData.positiveRating)+"%")])],1),i("v-uni-view",{staticClass:"cmt-count"},[t._v("共"+t._s(t.prodCommData.number)+"条"),i("v-uni-text",{staticClass:"cmt-more"})],1)],1),i("v-uni-view",{staticClass:"cmt-cont"},[i("v-uni-view",{staticClass:"cmt-tag",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showComment.apply(void 0,arguments)}}},[i("v-uni-text",[t._v("全部("+t._s(t.prodCommData.number)+")")]),i("v-uni-text",[t._v("好评("+t._s(t.prodCommData.praiseNumber)+")")]),i("v-uni-text",[t._v("中评("+t._s(t.prodCommData.secondaryNumber)+")")]),i("v-uni-text",[t._v("差评("+t._s(t.prodCommData.negativeNumber)+")")]),i("v-uni-text",[t._v("有图("+t._s(t.prodCommData.picNumber)+")")])],1),i("v-uni-view",{staticClass:"cmt-items"},t._l(t.littleCommPage,(function(e,a){return i("v-uni-view",{key:a,staticClass:"cmt-item"},[i("v-uni-view",{staticClass:"cmt-user"},[i("v-uni-text",{staticClass:"date"},[t._v(t._s(e.recTime))]),i("v-uni-view",{staticClass:"cmt-user-info"},[i("v-uni-image",{staticClass:"user-img",attrs:{src:e.pic}}),i("v-uni-view",{staticClass:"nickname"},[t._v(t._s(e.nickName))])],1)],1),i("v-uni-view",{staticClass:"cmt-cnt"},[t._v(t._s(e.content))]),e.pics.length?i("v-uni-scroll-view",{staticClass:"cmt-attr",attrs:{"scroll-x":"true"}},t._l(e.pics,(function(t,e){return i("v-uni-image",{key:e,attrs:{src:t}})})),1):t._e()],1)})),1),t.prodCommPage.records.length>2?i("v-uni-view",{staticClass:"cmt-more-v"},[i("v-uni-text",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showComment.apply(void 0,arguments)}}},[t._v("查看全部评价")])],1):t._e()],1)],1),i("v-uni-view",{staticClass:"prod-detail"},[i("v-uni-view",[i("v-uni-rich-text",{attrs:{nodes:t.content}})],1)],1),i("v-uni-view",{staticClass:"cart-footer"},[i("v-uni-view",{staticClass:"btn icon",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toHomePage.apply(void 0,arguments)}}},[i("v-uni-image",{attrs:{src:"/static/images/tabbar/homepage.png"}}),t._v("首页")],1),i("v-uni-view",{staticClass:"btn icon",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toCartPage.apply(void 0,arguments)}}},[i("v-uni-image",{attrs:{src:"/static/images/tabbar/basket.png"}}),t._v("购物车"),t.totalCartNum>0?i("v-uni-view",{staticClass:"badge badge-1"},[t._v(t._s(t.totalCartNum))]):t._e()],1),i("v-uni-view",{staticClass:"btn cart",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showSku.apply(void 0,arguments)}}},[i("v-uni-text",[t._v("加入购物车")])],1),i("v-uni-view",{staticClass:"btn buy",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showSku.apply(void 0,arguments)}}},[i("v-uni-text",[t._v("立即购买")])],1)],1),t.skuShow?i("v-uni-view",{staticClass:"pup-sku"},[i("v-uni-view",{staticClass:"pup-sku-main"},[i("v-uni-view",{staticClass:"pup-sku-header"},[i("v-uni-image",{staticClass:"pup-sku-img",attrs:{src:t.defaultSku.pic?t.defaultSku.pic:t.pic}}),i("v-uni-view",{staticClass:"pup-sku-price"},[t._v("￥"),t.defaultSku&&t.defaultSku.price?i("v-uni-text",{staticClass:"pup-sku-price-int"},[t._v(t._s(t.wxs.parsePrice(t.defaultSku.price)[0]))]):t._e(),t._v("."+t._s(t.wxs.parsePrice(t.defaultSku.price)[1]))],1),i("v-uni-view",{staticClass:"pup-sku-prop"},[i("v-uni-text",[t._v("已选")]),t._v(t._s(t.selectedProp.length>0?t.selectedProp+"，":"")+t._s(t.prodNum)+"件")],1),i("v-uni-view",{staticClass:"close",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closePopup.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"pup-sku-body"},[i("v-uni-view",{staticClass:"pup-sku-area"},[t._l(t.skuGroup,(function(e,a){return[i("v-uni-view",{key:a+"_0",staticClass:"sku-kind"},[t._v(t._s(a))]),i("v-uni-view",{key:a+"_1",staticClass:"sku-choose"},[t._l(e,(function(e,o){return[i("v-uni-text",{key:o+"_0",class:"sku-choose-item "+(t.wxs.array_contain(t.selectedProp,e)?"active":"")+" "+(t.wxs.props_contain(t.allProperties,t.selectedPropObj,a,e,t.propKeys)?"":"gray"),attrs:{"data-ok":t.wxs.props_contain(t.allProperties,t.selectedPropObj,a,e,t.propKeys),"data-key":a,"data-val":e},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toChooseItem.apply(void 0,arguments)}}},[t._v(t._s(e))])]}))],2)]}))],2),i("v-uni-view",{staticClass:"pup-sku-count"},[i("v-uni-view",{staticClass:"num-wrap"},[i("v-uni-view",{staticClass:"minus",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onCountMinus.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"row"})],1),i("v-uni-view",{staticClass:"text-wrap"},[i("v-uni-input",{attrs:{type:"number",value:t.prodNum,disabled:!0}})],1),i("v-uni-view",{staticClass:"plus",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onCountPlus.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"row"}),i("v-uni-text",{staticClass:"col"})],1)],1),i("v-uni-view",{staticClass:"count-name"},[t._v("数量")])],1)],1),i("v-uni-view",{staticClass:"pup-sku-footer"},[i("v-uni-view",{staticClass:"btn cart",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.addToCart.apply(void 0,arguments)}}},[t._v("加入购物车")]),i("v-uni-view",{staticClass:"btn buy",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.buyNow.apply(void 0,arguments)}}},[t._v("立即购买")])],1)],1)],1):t._e(),t.commentShow?i("v-uni-view",{staticClass:"cmt-popup"},[i("v-uni-view",{staticClass:"cmt-tit"},[i("v-uni-view",{staticClass:"cmt-t"},[t._v("商品评价"),i("v-uni-text",{staticClass:"cmt-good"},[t._v("好评度"+t._s(t.prodCommData.positiveRating)+"%")])],1),i("v-uni-text",{staticClass:"close",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closePopup.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"cmt-cont"},[i("v-uni-view",{staticClass:"cmt-tag"},[i("v-uni-text",{class:-1==t.evaluate?"selected":"",attrs:{"data-evaluate":"-1"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getProdCommPage.apply(void 0,arguments)}}},[t._v("全部("+t._s(t.prodCommData.number)+")")]),i("v-uni-text",{class:0==t.evaluate?"selected":"",attrs:{"data-evaluate":"0"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getProdCommPage.apply(void 0,arguments)}}},[t._v("好评("+t._s(t.prodCommData.praiseNumber)+")")]),i("v-uni-text",{class:1==t.evaluate?"selected":"",attrs:{"data-evaluate":"1"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getProdCommPage.apply(void 0,arguments)}}},[t._v("中评("+t._s(t.prodCommData.secondaryNumber)+")")]),i("v-uni-text",{class:2==t.evaluate?"selected":"",attrs:{"data-evaluate":"2"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getProdCommPage.apply(void 0,arguments)}}},[t._v("差评("+t._s(t.prodCommData.negativeNumber)+")")]),i("v-uni-text",{class:3==t.evaluate?"selected":"",attrs:{"data-evaluate":"3"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getProdCommPage.apply(void 0,arguments)}}},[t._v("有图("+t._s(t.prodCommData.picNumber)+")")])],1),i("v-uni-view",{staticClass:"cmt-items"},[t.prodCommPage.records.length?t._l(t.prodCommPage.records,(function(e,a){return i("v-uni-view",{key:a,staticClass:"cmt-item"},[i("v-uni-view",{staticClass:"cmt-user"},[i("v-uni-text",{staticClass:"date"},[t._v(t._s(e.recTime))]),i("v-uni-view",{staticClass:"cmt-user-info"},[i("v-uni-image",{staticClass:"user-img",attrs:{src:e.pic}}),i("v-uni-view",{staticClass:"nickname"},[t._v(t._s(e.nickName))])],1)],1),i("v-uni-view",{staticClass:"cmt-cnt"},[t._v(t._s(e.content))]),e.pics.length?i("v-uni-scroll-view",{staticClass:"cmt-attr",attrs:{"scroll-x":"true"}},t._l(e.pics,(function(t,e){return i("v-uni-image",{key:e,attrs:{src:t}})})),1):t._e(),e.replyContent?i("v-uni-view",{staticClass:"cmt-reply"},[i("v-uni-text",{staticClass:"reply-tit"},[t._v("店铺回复：")]),t._v(t._s(e.replyContent))],1):t._e()],1)})):t._e(),t.prodCommPage.records.length?t._e():i("v-uni-view",{staticClass:"empty"},[t._v("暂无评价")])],2),t.prodCommPage.pages>t.prodCommPage.current?i("v-uni-view",{staticClass:"load-more"},[i("v-uni-text",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getMoreCommPage.apply(void 0,arguments)}}},[t._v("点击加载更多")])],1):t._e()],1)],1):t._e()],1)},o=[]}}]);